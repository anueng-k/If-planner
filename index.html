<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IF Healthy Planner</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-100 text-slate-800">

<div class="max-w-md mx-auto min-h-screen pb-24">

<!-- HEADER -->
<header class="bg-teal-600 text-white p-5 text-center shadow">
<h1 class="text-xl font-bold">IF Healthy Planner</h1>
<p class="text-xs opacity-80">‡∏ï‡∏±‡∏ß‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</p>
</header>

<!-- PROFILE -->
<div class="p-4 space-y-3">
<div class="bg-white p-4 rounded-2xl shadow space-y-3">

<h2 class="font-bold text-teal-700">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</h2>

<div class="grid grid-cols-3 gap-2">
<input id="weight" type="number" placeholder="‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å kg" class="border p-2 rounded-lg">
<input id="height" type="number" placeholder="‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á cm" class="border p-2 rounded-lg">
<input id="age" type="number" placeholder="‡∏≠‡∏≤‡∏¢‡∏∏" class="border p-2 rounded-lg">
</div>

<select id="goal" class="w-full border p-2 rounded-lg">
<option value="lose">‡∏•‡∏î‡πÑ‡∏Ç‡∏°‡∏±‡∏ô</option>
<option value="maintain">‡∏Ñ‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å</option>
<option value="gain">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å</option>
</select>

<input id="months" type="number" placeholder="‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏µ‡πà‡πÄ‡∏î‡∏∑‡∏≠‡∏ô" class="w-full border p-2 rounded-lg">

<button onclick="calculate()" class="w-full bg-teal-600 text-white p-2 rounded-lg">
‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£
</button>

<div id="result" class="text-sm space-y-1"></div>

</div>
</div>

<!-- IF TIMER -->
<div class="px-4">
<div class="bg-white p-4 rounded-2xl shadow space-y-3">

<h2 class="font-bold text-teal-700">IF Timer</h2>

<div class="grid grid-cols-4 gap-2">
<button onclick="setPlan(12)" class="border rounded-lg p-2">12/12</button>
<button onclick="setPlan(16)" class="border rounded-lg p-2">16/8</button>
<button onclick="setPlan(18)" class="border rounded-lg p-2">18/6</button>
<button onclick="setPlan(20)" class="border rounded-lg p-2">20/4</button>
</div>

<input type="time" id="startTime" class="w-full border p-2 rounded-lg">

<div id="timer" class="text-center text-2xl font-bold"></div>

</div>
</div>

<!-- MEAL LOG -->
<div class="p-4">
<div class="bg-white p-4 rounded-2xl shadow space-y-3">

<h2 class="font-bold text-teal-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h2>

<select id="foodSelect" class="w-full border p-2 rounded-lg">
<option value="70">‡πÑ‡∏Ç‡πà‡∏ï‡πâ‡∏° 1 ‡∏ü‡∏≠‡∏á (70 kcal)</option>
<option value="250">‡πÑ‡∏Ç‡πà‡πÄ‡∏à‡∏µ‡∏¢‡∏ß 1 ‡∏ü‡∏≠‡∏á (250 kcal)</option>
<option value="165">‡∏≠‡∏Å‡πÑ‡∏Å‡πà 100g (165 kcal)</option>
<option value="240">‡∏´‡∏°‡∏π‡∏ú‡∏±‡∏î 1 ‡∏ñ‡πâ‡∏ß‡∏¢ (240 kcal)</option>
<option value="130">‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏ß‡∏¢ 1 ‡∏ó‡∏±‡∏û‡∏û‡∏µ (130 kcal)</option>
<option value="90">‡∏Å‡∏•‡πâ‡∏ß‡∏¢ 1 ‡∏•‡∏π‡∏Å (90 kcal)</option>
</select>

<button onclick="addFood()" class="w-full bg-emerald-600 text-white p-2 rounded-lg">
‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£
</button>

<div class="text-sm">
‡πÅ‡∏Ñ‡∏•‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: <span id="totalCal" class="font-bold">0</span> kcal
</div>

</div>
</div>

</div>

<script>
let totalCalories = 0;
let fastingHours = 16;

function calculate(){
let w = weight.value;
let h = height.value;
let a = age.value;
let goal = document.getElementById("goal").value;

if(!w) return;

let cal = w * 24 * 1.4;

if(goal=="lose") cal -= 300;
if(goal=="gain") cal += 300;

let protein = w * 1.6;
let fat = cal * 0.25 / 9;
let water = w * 30;

result.innerHTML = `
üî• ‡πÅ‡∏Ñ‡∏•‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô: ${Math.round(cal)} kcal<br>
ü•© ‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô: ${Math.round(protein)} g<br>
ü•ë ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏î‡∏µ: ${Math.round(fat)} g<br>
üíß ‡∏ô‡πâ‡∏≥: ${Math.round(water/1000)} ‡∏•‡∏¥‡∏ï‡∏£
`;
}

function setPlan(h){
fastingHours = h;
updateTimer();
}

function updateTimer(){
let start = document.getElementById("startTime").value;
if(!start) return;

let now = new Date();
let [hh,mm] = start.split(":");

let startTime = new Date();
startTime.setHours(hh,mm,0);

let eatEnd = new Date(startTime.getTime() + (24-fastingHours)*3600000);

let diff = eatEnd - now;

let h = Math.floor(diff/3600000);
let m = Math.floor(diff%3600000/60000);

timer.innerText = "‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏¥‡∏ô " + h + "‡∏ä‡∏° " + m + "‡∏ô‡∏≤‡∏ó‡∏µ";
}

setInterval(updateTimer,1000);

function addFood(){
let cal = parseInt(foodSelect.value);
totalCalories += cal;
totalCal.innerText = totalCalories;
}
</script>

</body>
</html>