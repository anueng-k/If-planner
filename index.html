<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IF Planner Universal</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen flex items-center justify-center">

<div class="bg-white p-6 rounded-2xl shadow-lg w-96 space-y-4">

<h1 class="text-2xl font-bold text-center">IF Planner</h1>

<label class="font-semibold">‡πÄ‡∏û‡∏®</label>
<select id="gender" class="w-full border p-2 rounded">
<option value="male">‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢</option>
<option value="female">‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á</option>
</select>

<label class="font-semibold">‡∏≠‡∏≤‡∏¢‡∏∏</label>
<input type="number" id="age" value="30" class="w-full border p-2 rounded">

<label class="font-semibold">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏Å.)</label>
<input type="number" id="weight" value="70" class="w-full border p-2 rounded">

<label class="font-semibold">‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á (‡∏ã‡∏°.)</label>
<input type="number" id="height" value="170" class="w-full border p-2 rounded">

<label class="font-semibold">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</label>
<select id="goal" class="w-full border p-2 rounded">
<option value="lose">‡∏•‡∏î‡πÑ‡∏Ç‡∏°‡∏±‡∏ô</option>
<option value="maintain">‡∏Ñ‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å</option>
<option value="gain">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å</option>
</select>

<label class="font-semibold">‡πÅ‡∏ú‡∏ô IF</label>
<select id="plan" class="w-full border p-2 rounded">
<option value="12">12/12</option>
<option value="16" selected>16/8</option>
<option value="18">18/6</option>
<option value="20">20/4</option>
</select>

<label class="font-semibold">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏ô</label>
<input type="time" id="startTime" value="12:00" class="w-full border p-2 rounded">

<button onclick="calculate()" class="w-full bg-blue-500 text-white p-3 rounded-lg font-semibold">
‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏ú‡∏ô‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£
</button>

<hr>

<div id="result" class="space-y-2 text-sm"></div>

</div>

<script>
function calculate(){

let gender = document.getElementById("gender").value;
let age = Number(document.getElementById("age").value);
let weight = Number(document.getElementById("weight").value);
let height = Number(document.getElementById("height").value);
let goal = document.getElementById("goal").value;
let fasting = Number(document.getElementById("plan").value);
let start = document.getElementById("startTime").value;

if(!age || !weight || !height){
alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");
return;
}

// BMR ‡∏™‡∏π‡∏ï‡∏£‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô
let bmr;
if(gender === "male"){
bmr = 10*weight + 6.25*height - 5*age + 5;
}else{
bmr = 10*weight + 6.25*height - 5*age - 161;
}

// ‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ñ‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
let tdee = bmr * 1.4;

// ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
let calories;
if(goal === "lose") calories = tdee - 500;
if(goal === "maintain") calories = tdee;
if(goal === "gain") calories = tdee + 300;

// ‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤‡∏Å‡∏•‡∏≤‡∏á
let protein = Math.round(weight * 1.6);
let fat = Math.round(weight * 0.8);
let carbs = Math.round((calories - (protein*4 + fat*9)) / 4);
let water = Math.round(weight * 35);

let eating = 24 - fasting;
let startHour = Number(start.split(":")[0]);
let endHour = (startHour + eating) % 24;

document.getElementById("result").innerHTML = `
<b>‚è± ‡∏ï‡∏≤‡∏£‡∏≤‡∏á IF</b><br>
‡∏≠‡∏î ${fasting} ‡∏ä‡∏°. | ‡∏Å‡∏¥‡∏ô ${eating} ‡∏ä‡∏°.<br>
‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏ô ${start} | ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏¥‡∏ô ${endHour}:00

<hr>

<b>üî• ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô</b><br>
${Math.round(calories)} kcal

<hr>

<b>ü•© ‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô</b> ${protein} g<br>
<b>ü•ë ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏î‡∏µ</b> ${fat} g<br>
<b>üçö ‡∏Ñ‡∏≤‡∏£‡πå‡∏ö</b> ${carbs} g<br>
<b>üíß ‡∏ô‡πâ‡∏≥</b> ${water} ml

<hr>

<b>üçΩ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏ô</b>

<br>‡∏°‡∏∑‡πâ‡∏≠‡∏ó‡∏µ‡πà 1
‚Ä¢ ‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡∏´‡∏•‡∏±‡∏Å
‚Ä¢ ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏î‡∏µ
‚Ä¢ ‡∏ú‡∏±‡∏Å

<br><br>‡∏°‡∏∑‡πâ‡∏≠‡∏ó‡∏µ‡πà 2
‚Ä¢ ‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô
‚Ä¢ ‡∏ú‡∏±‡∏Å
‚Ä¢ ‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏û‡∏≠‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì

`;
}
</script>

</body>
</html>