<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IF Health Pro</title>
<script src="https://cdn.tailwindcss.com"></script>

<style>
body{
background:#f1f5f9;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
}
.card{
background:white;
border-radius:20px;
padding:20px;
box-shadow:0 10px 25px rgba(0,0,0,0.05);
}
</style>
</head>

<body class="max-w-md mx-auto p-4 space-y-4">

<!-- HEADER -->
<div class="card text-center">
<h1 class="text-xl font-bold">IF Health Planner</h1>
<p class="text-sm text-gray-500">ระบบดูแลสุขภาพครบวงจร</p>
</div>

<!-- PROFILE -->
<div class="card space-y-3">
<h2 class="font-bold">ข้อมูลสุขภาพ</h2>

<input id="weight" type="number" placeholder="น้ำหนัก (kg)" class="w-full border p-2 rounded">
<input id="height" type="number" placeholder="ส่วนสูง (cm)" class="w-full border p-2 rounded">
<input id="age" type="number" placeholder="อายุ" class="w-full border p-2 rounded">

<select id="goal" class="w-full border p-2 rounded">
<option value="lose">ลดไขมัน</option>
<option value="maintain">คงน้ำหนัก</option>
<option value="gain">เพิ่มกล้าม</option>
</select>

<button onclick="calculateHealth()" class="w-full bg-teal-600 text-white p-2 rounded">
คำนวณสุขภาพ
</button>

<div id="healthResult" class="text-sm text-gray-700"></div>
</div>

<!-- IF TIMER -->
<div class="card text-center">
<h2 class="font-bold mb-2">IF Timer</h2>

<select id="plan" class="border p-2 rounded">
<option value="12">12/12</option>
<option value="16">16/8</option>
<option value="18">18/6</option>
<option value="20">20/4</option>
</select>

<input id="startTime" type="time" value="12:00" class="border p-2 rounded mt-2">

<div id="timer" class="text-3xl font-bold mt-3">--:--</div>
</div>

<!-- NUTRITION -->
<div class="card">
<h2 class="font-bold">โภชนาการแนะนำ</h2>
<div id="nutrition"></div>
</div>

<!-- HEALTH STANDARDS -->
<div class="card">
<h2 class="font-bold">ค่ามาตรฐานสุขภาพ</h2>
<ul class="text-sm space-y-1">
<li>ความดันปกติ: 90/60 — 120/80</li>
<li>ชีพจรปกติ: 60 — 100 ครั้ง/นาที</li>
<li>น้ำตาลก่อนอาหาร: 70 — 99 mg/dL</li>
<li>น้ำตาลหลังอาหาร: ต่ำกว่า 140 mg/dL</li>
</ul>
</div>

<script>
function calculateHealth(){
let w = parseFloat(weight.value);
let h = parseFloat(height.value)/100;
let ageVal = parseFloat(age.value);

if(!w || !h) return;

let bmi = w/(h*h);
let bmr = w*24;

let cal = bmr*1.4;
if(goal.value==="lose") cal-=300;
if(goal.value==="gain") cal+=300;

let protein = w*1.6;
let water = w*30;

healthResult.innerHTML = `
BMI: ${bmi.toFixed(1)}<br>
BMR: ${Math.round(bmr)} kcal<br>
แคลที่ควรกิน: ${Math.round(cal)} kcal/วัน
`;

nutrition.innerHTML = `
โปรตีน: ${Math.round(protein)} g/วัน<br>
น้ำ: ${Math.round(water)} ml/วัน<br>
ไข่ ~ ${Math.round(protein/6)} ฟองต่อวัน (ประมาณ)
`;
}

setInterval(()=>{
let plan = parseInt(document.getElementById("plan").value);
let start = document.getElementById("startTime").value;

if(!start) return;

let [h,m] = start.split(":");
let startTime = new Date();
startTime.setHours(h,m,0);

let endTime = new Date(startTime.getTime()+(24-plan)*3600000);
let now = new Date();

let diff = (now<endTime?endTime: new Date(startTime.getTime()+86400000)) - now;

let hours = Math.floor(diff/3600000);
let mins = Math.floor(diff%3600000/60000);

timer.innerText = hours+"h "+mins+"m";
},1000);
</script>

</body>
</html>