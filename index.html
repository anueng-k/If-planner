<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Health Super App</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-100 font-sans">

<div class="max-w-5xl mx-auto p-4">

<!-- HEADER -->
<div class="bg-white rounded-2xl shadow p-6 mb-4">
<h1 class="text-2xl font-bold text-slate-800">‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£</h1>
<p class="text-slate-500 text-sm">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</p>
</div>

<!-- USER FORM -->
<div class="bg-white rounded-2xl shadow p-6 mb-4">
<h2 class="font-bold mb-4">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</h2>

<div class="grid md:grid-cols-4 gap-3">
<input id="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠" class="border p-2 rounded">
<input id="age" type="number" placeholder="‡∏≠‡∏≤‡∏¢‡∏∏" class="border p-2 rounded">
<input id="weight" type="number" placeholder="‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å kg" class="border p-2 rounded">
<input id="height" type="number" placeholder="‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á cm" class="border p-2 rounded">
</div>

<button onclick="saveProfile()" class="mt-3 bg-teal-600 text-white px-4 py-2 rounded">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
</div>

<!-- HEALTH INPUT -->
<div class="bg-white rounded-2xl shadow p-6 mb-4">
<h2 class="font-bold mb-4">‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</h2>

<div class="grid md:grid-cols-3 gap-3">
<input id="bp" placeholder="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô 120/80" class="border p-2 rounded">
<input id="pulse" type="number" placeholder="‡∏ä‡∏µ‡∏û‡∏à‡∏£ bpm" class="border p-2 rounded">
<input id="sugar" type="number" placeholder="‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏• mg/dL" class="border p-2 rounded">
</div>

<button onclick="saveVitals()" class="mt-3 bg-teal-600 text-white px-4 py-2 rounded">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤</button>
</div>

<!-- FOOD LOG -->
<div class="bg-white rounded-2xl shadow p-6 mb-4">
<h2 class="font-bold mb-4">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h2>

<div class="grid md:grid-cols-3 gap-3">
<input id="foodName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£">
<input id="cal" type="number" placeholder="‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà">
<input id="protein" type="number" placeholder="‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô g">
</div>

<button onclick="addFood()" class="mt-3 bg-teal-600 text-white px-4 py-2 rounded">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏∑‡πâ‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£</button>

<div id="foodList" class="mt-4 text-sm"></div>
</div>

<!-- RESULT -->
<div class="bg-white rounded-2xl shadow p-6">
<h2 class="font-bold mb-4">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</h2>

<div id="result" class="space-y-2 text-slate-700"></div>
</div>

</div>

<script>

let profile = JSON.parse(localStorage.getItem("profile")) || {};
let foods = JSON.parse(localStorage.getItem("foods")) || [];

function saveProfile(){
profile = {
name: name.value,
age: age.value,
weight: weight.value,
height: height.value
};
localStorage.setItem("profile", JSON.stringify(profile));
calculateHealth();
}

function saveVitals(){
profile.bp = bp.value;
profile.pulse = pulse.value;
profile.sugar = sugar.value;
localStorage.setItem("profile", JSON.stringify(profile));
calculateHealth();
}

function addFood(){
foods.push({
name: foodName.value,
cal: Number(cal.value),
protein: Number(protein.value)
});
localStorage.setItem("foods", JSON.stringify(foods));
renderFoods();
calculateHealth();
}

function renderFoods(){
foodList.innerHTML = foods.map(f =>
`<div class="border-b py-1">${f.name} ‚Äî ${f.cal} kcal / ‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô ${f.protein}g</div>`
).join("");
}

function calculateHealth(){
if(!profile.weight || !profile.height) return;

let h = profile.height/100;
let bmi = profile.weight/(h*h);
let bmr = 10*profile.weight + 6.25*profile.height - 5*profile.age + 5;
let tdee = bmr*1.4;

let totalCal = foods.reduce((a,b)=>a+b.cal,0);
let totalProtein = foods.reduce((a,b)=>a+b.protein,0);

let status = "‡∏õ‡∏Å‡∏ï‡∏¥";
if(bmi>25) status="‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô";
if(bmi<18.5) status="‡∏ú‡∏≠‡∏°";

result.innerHTML = `
<div>üë§ ‡∏ä‡∏∑‡πà‡∏≠: ${profile.name||"-"}</div>
<div>üìä BMI: ${bmi.toFixed(2)} (${status})</div>
<div>üî• BMR: ${Math.round(bmr)} kcal</div>
<div>‚ö° ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö: ${Math.round(tdee)} kcal/‡∏ß‡∏±‡∏ô</div>
<div>üçΩ ‡∏Å‡∏¥‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: ${totalCal} kcal</div>
<div>ü•© ‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: ${totalProtein} g</div>
<div>‚ù§Ô∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô: ${profile.bp||"-"}</div>
<div>üíì ‡∏ä‡∏µ‡∏û‡∏à‡∏£: ${profile.pulse||"-"}</div>
<div>üß™ ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•: ${profile.sugar||"-"}</div>
`;
}

renderFoods();
calculateHealth();

</script>

</body>
</html>